#use in unit leader (officer) scope!
generate_militarist_advisor = {
	if = {
		limit = {
			owner = {
				NOT = {
					OR = {
						has_country_flag = no_generic_militarist_political_advisor
						has_custom_advisors = yes
						has_allowed_idea_with_traits = {
							idea = armourer
							characters = yes
						}
					}
				}
			}
		}
		add_advisor_role = {
			advisor = {
				slot = political_advisor
				cost = 50
				idea_token = THIS
				traits = {
					armourer
				}
				available = {
					militarism > 0.15
				}
			}
		}
	}
}
generate_portrait = {
	if = {
		limit = {
			has_variable = character_token
		}
		meta_effect = {
			text = {
				set_portraits = {
					character = [C]
					army = {
						small = [P]
					}
				}
			}
			C = "[?character_token.GetTokenLocalizedKey]"
			P = "[character_portrait_gfx_object]"
		}
		clear_variable = character_token
	}
	else = {
		log = "Error - can`t get character without token"
	}
}