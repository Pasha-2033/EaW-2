#Windigo time focuses
focus_tree = {
	id = ept_focus_tree
	country = {
		base = 0
		modifier = {
			add = 100
			tag = EPT
		}
	}
	default = no
	continuous_focus_position = {
		x = 2700
		y = 1350
	}
	#defencive branch
	focus = {
		id = ept_focus_inevitable_defense
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 5
		y = 0
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_inevitable_defense"
			if = {
				limit = {
					has_greate_project_hooftagon = yes
				}
				add_to_variable = {
					hooftagon^61 = 0.01
					tooltip = addadd_hooftagon_i61_1_i62_1
				}
				add_to_variable = {
					hooftagon^62 = 0.01
				}
			}
		}
	}
	focus = {
		id = ept_focus_hooffington_arch
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_inevitable_defense
		prerequisite = {
			focus = ept_focus_inevitable_defense
		}
		ai_will_do = {
			base = 200
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = controls_mountainous_region_of_hills_of_hugs
				controls_province = 606
				controls_province = 797
				controls_province = 817
				controls_province = 11572
				controls_province = 11741
			}
			custom_trigger_tooltip = {
				tooltip = controls_opposite_bank_hooffington_river
				controls_province = 9595
				controls_province = 9611
				controls_province = 11594
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_hooffington_arch"
			if = {
				limit = {
					has_greate_project_hooftagon = yes
				}
				add_to_variable = {
					hooftagon^61 = 0.01
					tooltip = addadd_hooftagon_i61_1_i62_1
				}
				add_to_variable = {
					hooftagon^62 = 0.01
				}
			}
			19 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						id = 606
						id = 797
						id = 817
						id = 11572
						id = 11741
					}
				}
			}
			81 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						id = 9595
						id = 9611
						id = 11594 
					}
				}
			}
		}
	}
	focus = {
		id = ept_focus_fortify_city_galloprey
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 3
		y = 1
		relative_position_id = ept_focus_inevitable_defense
		prerequisite = {
			focus = ept_focus_inevitable_defense
		}
		ai_will_do = {
			base = 200
		}
		available = {
			controls_state = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_fortify_city_galloprey"
			50 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9572
				}
			}
		}
	}
	focus = {
		id = ept_focus_ayakatchli_galloprey_line
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_fortify_city_galloprey
		prerequisite = {
			focus = ept_focus_fortify_city_galloprey
		}
		ai_will_do = {
			base = 200
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = controls_opposite_bank_galloprey_river
				controls_province = 3943
				controls_province = 6513
				controls_province = 6942
				controls_province = 6983
				controls_province = 9524
				controls_province = 9586
				controls_province = 9894
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_ayakatchli_galloprey_line"
			if = {
				limit = {
					has_greate_project_hooftagon = yes
				}
				add_to_variable = {
					hooftagon^61 = 0.01
					tooltip = addadd_hooftagon_i61_1_i62_1
				}
				add_to_variable = {
					hooftagon^62 = 0.01
				}
			}
			15 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9524
				}
			}
			32 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						id = 3943
						id = 6942
						id = 6983
						id = 9586
					}
				}
			}
			86 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						id = 6513
						id = 9894
					}
				}
			}
		}
	}
	focus = {
		id = ept_focus_teonaltzintli_stronghold
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_inevitable_defense
		prerequisite = {
			focus = ept_focus_inevitable_defense
		}
		ai_will_do = {
			base = 200
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = controls_teonaltzintli_and_its_surroundings
				controls_province = 3444
				controls_province = 3553
				controls_province = 11456
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_tеonaltzintli_stronghold"
			88 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 11456
				}
			}
			348 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						id = 3444
						id = 3553
					}
				}
			}
		}
	}
	focus = {
		id = ept_focus_teonaltzintli_greate_wall
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_teonaltzintli_stronghold
		prerequisite = {
			focus = ept_focus_teonaltzintli_stronghold
		}
		ai_will_do = {
			base = 200
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = controls_teonaltzintli_river_and_shore
				controls_province = 3547
				controls_province = 9429
				controls_province = 11556
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_tеonaltzintli_greate_wall"
			if = {
				limit = {
					has_greate_project_hooftagon = yes
				}
				add_to_variable = {
					hooftagon^61 = 0.01
					tooltip = addadd_hooftagon_i61_1_i62_1
				}
				add_to_variable = {
					hooftagon^62 = 0.01
				}
			}
			88 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 3547
				}
			}
			348 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9429
				}
			}
			350 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 11556
				}
			}
		}
	}
	focus = {
		id = ept_focus_our_last_arms_factory
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -3
		y = 1
		relative_position_id = ept_focus_inevitable_defense
		prerequisite = {
			focus = ept_focus_inevitable_defense
		}
		ai_will_do = {
			base = 200
		}
		available = {
			controls_state = 19
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		select_effect = {
			19 = {
				remove_building = {
					type = arms_factory
					level = 1
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_our_last_arms_factory"
			capital_scope = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						ROOT = {
							NOT = {
								controls_state = 19
							}
						}
					}
					damage_building = {
						type = arms_factory
						damage = 0.25
					}
				}
			}
		}
	}
	focus = {
		id = ept_focus_corps_of_scientists
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_our_last_arms_factory
		prerequisite = {
			focus = ept_focus_our_last_arms_factory
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_corps_of_scientists"
			add_popularity = {
				ideology = technocracy
				popularity = 0.05
			}
			add_research_slot = 1
			#TODO call event to countries with greate scientists for scientific cooperation of windigo research (in other focus)
		}
	}
	#common branch
	focus = {
		id = ept_focus_marshal_of_countrymen
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 16
		y = 0
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_marshal_of_countrymen"
		}
	}
	focus = {
		id = ept_focus_new_and_young_government
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_marshal_of_countrymen
		prerequisite = {
			focus = ept_focus_marshal_of_countrymen
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_new_and_young_government"
		}
	}
	focus = {
		id = ept_focus_directive_number_one
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_new_and_young_government
		prerequisite = {
			focus = ept_focus_new_and_young_government
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_number_one"
		}
	}
	focus = {
		id = ept_focus_directive_volunteer_mobilisation
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -2
		y = 1
		relative_position_id = ept_focus_directive_number_one
		prerequisite = {
			focus = ept_focus_directive_number_one
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_volunteer_mobilisation"
		}
	}
	focus = {
		id = ept_focus_directive_army_mobilising
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_directive_number_one
		prerequisite = {
			focus = ept_focus_directive_number_one
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_army_mobilising"
		}
	}
	focus = {
		id = ept_focus_directive_special_powers
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 2
		y = 1
		relative_position_id = ept_focus_directive_number_one
		prerequisite = {
			focus = ept_focus_directive_number_one
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_special_powers"
			if = {
				limit = {
					has_greate_project_hooftagon = yes
				}
				add_to_variable = {
					hooftagon^8 = 3
				}
				subtract_from_variable = {
					hooftagon^49 = 0.05
				}
			}
			set_technology = {
				tech_military_police = 1
			}
		}
	}
	focus = {
		id = ept_focus_establish_an_agrarian_militia
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_directive_volunteer_mobilisation
		prerequisite = {
			focus = ept_focus_directive_volunteer_mobilisation
		}
		prerequisite = {
			focus = ept_focus_directive_army_mobilising
		}
		prerequisite = {
			focus = ept_focus_directive_special_powers
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_establish_an_agrarian_militia"
		}
	}
	focus = {
		id = ept_focus_prepare_for_total_war
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 1
		relative_position_id = ept_focus_directive_army_mobilising
		prerequisite = {
			focus = ept_focus_directive_volunteer_mobilisation
		}
		prerequisite = {
			focus = ept_focus_directive_army_mobilising
		}
		prerequisite = {
			focus = ept_focus_directive_special_powers
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_prepare_for_total_war"
		}
	}
	focus = {
		id = ept_focus_order_guardians
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_directive_special_powers
		prerequisite = {
			focus = ept_focus_directive_volunteer_mobilisation
		}
		prerequisite = {
			focus = ept_focus_directive_army_mobilising
		}
		prerequisite = {
			focus = ept_focus_directive_special_powers
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_order_guardians"
		}
	}
	focus = {
		id = ept_focus_directive_private_property
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -2
		y = 1
		relative_position_id = ept_focus_order_guardians
		prerequisite = {
			focus = ept_focus_order_guardians
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_private_property"
		}
	}
	focus = {
		id = ept_focus_directive_agrarian_complex_nationalisation
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 2
		y = 1
		relative_position_id = ept_focus_establish_an_agrarian_militia
		prerequisite = {
			focus = ept_focus_establish_an_agrarian_militia
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_directive_agrarian_complex_nationalisation"
		}
	}
	focus = {
		id = ept_focus_fight_for_survival
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 0
		y = 2
		relative_position_id = ept_focus_prepare_for_total_war
		prerequisite = {
			focus = ept_focus_prepare_for_total_war
		}
		prerequisite = {
			focus = ept_focus_directive_agrarian_complex_nationalisation
		}
		prerequisite = {
			focus = ept_focus_directive_private_property
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_fight_for_survival"
		}
	}
	#economic branch
	focus = {
		id = ept_focus_economic_affairs_commission
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 22
		y = 0
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_economic_affairs_commission"
		}
	}
	focus = {
		id = ept_focus_convening_of_farmers
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_economic_affairs_commission
		prerequisite = {
			focus = ept_focus_economic_affairs_commission
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_convening_of_farmers"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = agrarian_complex
					level = 1
				}
			}
			set_temp_variable = {
				delta_harvest_failure_food = -100
			}
			harvest_failure_update = yes
			set_temp_variable = {
				delta_food_storage = 500
			}
			add_to_food_storage = yes
			add_stability = -0.05
		}
		search_filters = {
			FOCUS_FILTER_SURPLUS_APPROPRIATION
		}
	}
	focus = {
		id = ept_focus_change_surplus_appopriation_policy
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_convening_of_farmers
		prerequisite = {
			focus = ept_focus_convening_of_farmers
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_change_surplus_appopriation_policy"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = agrarian_complex
					level = 1
				}
			}
			set_temp_variable = {
				delta_harvest_failure_food = -50
			}
			harvest_failure_update = yes
		}
		search_filters = {
			FOCUS_FILTER_SURPLUS_APPROPRIATION
		}
	}
	focus = {
		id = ept_focus_food_stamps
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_change_surplus_appopriation_policy
		prerequisite = {
			focus = ept_focus_change_surplus_appopriation_policy
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_food_stamps"
			set_temp_variable = {
				delta_harvest_failure_food = -25
			}
			set_temp_variable = {
				delta_harvest_failure_supply = -0.05
			}
			harvest_failure_update = yes
		}
		search_filters = {
			FOCUS_FILTER_SURPLUS_APPROPRIATION
		}
	}
	#government branch
	focus = {
		id = ept_focus_formation_of_legislative_apparatus
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 28
		y = 0
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_formation_of_legislative_apparatus"
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		id = ept_focus_administrative_system_reforms
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_formation_of_legislative_apparatus
		prerequisite = {
			focus = ept_focus_formation_of_legislative_apparatus
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_administrative_system_reforms"
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		id = ept_focus_full_fledged_bureaucracy
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_administrative_system_reforms
		prerequisite = {
			focus = ept_focus_administrative_system_reforms
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_full_fledged_bureaucracy"
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		id = ept_focus_extend_directive_number_one
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_full_fledged_bureaucracy
		prerequisite = {
			focus = ept_focus_full_fledged_bureaucracy
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_extend_directive_number_one"
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	#hooftagon branch
	focus = {
		id = ept_focus_emergency_hq_hooftagon
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 25
		y = 0
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_emergency_hq_hooftagon"
			hidden_effect = {
				add_dynamic_modifier = {
					modifier = greate_project_hooftagon_HQ
				}
				add_dynamic_modifier = {
					modifier = greate_project_hooftagon_FP
				}
				add_dynamic_modifier = {
					modifier = greate_project_hooftagon_MI
				}
				#init hooftagon modifier values
				resize_array = {
					hooftagon = 68
				}
				#set hooftagon HQ start bonuses
				add_to_variable = { #army_core_attack_factor
					hooftagon^0 = 0.05
				}
				add_to_variable = { #army_core_defence_factor
					hooftagon^1 = 0.05
				}
				#set hooftagon FP start bonuses
				subtract_from_variable = {
					hooftagon^45 = 0.05
				}
				#set hooftagon MI start bonuses
				add_to_variable = { #production_speed_bunker_factor
					hooftagon^61 = 0.05
				}
			}
			custom_effect_tooltip = found_hooftagon
		}
		search_filters = {
			FOCUS_FILTER_GREAT_PROJECT
		}
	}
	focus = {
		id = ept_focus_convening_of_the_hc
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -2
		y = 1
		relative_position_id = ept_focus_emergency_hq_hooftagon
		prerequisite = {
			focus = ept_focus_emergency_hq_hooftagon
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_convening_of_the_hc"
			add_to_variable = {
				hooftagon^25 = 0.05
				tooltip = add_hooftagon_i25_5
			}
			army_experience = 25
		}
	}
	focus = {
		id = ept_focus_new_young_officers
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 1
		y = 1
		relative_position_id = ept_focus_convening_of_the_hc
		prerequisite = {
			focus = ept_focus_convening_of_the_hc
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_new_young_officers"
			add_to_variable = {
				hooftagon^6 = 0.05
				tooltip = addadd_hooftagon_i6_5_i7_5
			}
			add_to_variable = {
				hooftagon^7 = 0.05
			}
			army_experience = 15
		}
	}
	focus = {
		id = ept_focus_open_old_military_warehouses
		icon = GFX_goal_generic_changeling
		cost = 5
		x = 2
		y = 1
		relative_position_id = ept_focus_emergency_hq_hooftagon
		prerequisite = {
			focus = ept_focus_emergency_hq_hooftagon
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_open_old_military_warehouses"
			subtract_from_variable = {
				var = hooftagon^48
				value = 0.05
				tooltip = subadd_hooftagon_i48_5_i50_12
			}
			add_to_variable = {
				hooftagon^50 = 12
			}
		}
	}
	focus = {
		id = ept_focus_expand_recruitment_of_volunteers
		icon = GFX_goal_generic_changeling
		cost = 5
		x = -1
		y = 1
		relative_position_id = ept_focus_open_old_military_warehouses
		prerequisite = {
			focus = ept_focus_open_old_military_warehouses
		}
		ai_will_do = {
			base = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ept_focus_expand_recruitment_of_volunteers"
			add_to_variable = {
				var = hooftagon^24
				value = 0.1
				tooltip = add_hooftagon_i24_10
			}
		}
	}
}