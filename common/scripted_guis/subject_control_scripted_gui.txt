scripted_gui = {
	subject_control = {
		context_type = selected_country_context
		window_name = "subject_control_menu"
		parent_window_token = selected_country_view_diplomacy
		visible = {
			is_puppet_of = ROOT
			check_variable = {
				ROOT.subject_control_visibility = 1
			}
		}
		dynamic_lists = {
			mobilization_law_button_grid = {
				array = global.mobilization_idea_tokens
				change_scope = no
				entry_container = "subject_control_mobilization_law_button_entry"
				index = i_0
			}
			trade_button_grid = {
				array = global.trade_idea_tokens
				change_scope = no
				entry_container = "subject_control_trade_button_entry"
				index = i_1
			}
			economy_button_grid = {
				array = global.economy_idea_tokens
				change_scope = no
				entry_container = "subject_control_economy_button_entry"
				index = i_2
			}
			society_button_grid = {
				array = global.society_idea_tokens
				change_scope = no
				entry_container = "subject_control_society_button_entry"
				index = i_3
			}
			power_concentration_button_grid = {
				array = global.power_concentration_idea_tokens
				change_scope = no
				entry_container = "subject_control_power_concentration_button_entry"
				index = i_4
			}
			urbanization_button_grid = {
				array = global.urbanization_idea_tokens
				change_scope = no
				entry_container = "subject_control_urbanization_button_entry"
				index = i_5
			}
			illiteracy_button_grid = {
				array = global.illiteracy_idea_tokens
				change_scope = no
				entry_container = "subject_control_illiteracy_button_entry"
				index = i_6
			}
			poverty_button_grid = {
				array = global.poverty_idea_tokens
				change_scope = no
				entry_container = "subject_control_poverty_button_entry"
				index = i_7
			}
			#add new ideas grid
		}
		effects = {
			close_button_click = {
				set_variable = {
					ROOT.subject_control_visibility = 0
				}
			}
			subject_control_mobilization_law_button_click = {
				log = "[?i_0]"
				meta_effect = {
					text = {
						change_subject_mobilization_law_[I] = yes
					}
					I = i_0
				}
			}
			subject_control_trade_button_click = {
				log = "[?i_1]"
				meta_effect = {
					text = {
						change_subject_trade_[I] = yes
					}
					I = i_1
				}
			}
			subject_control_economy_button_click = {
				log = "[?i_2]"
				meta_effect = {
					text = {
						change_subject_economy_[I] = yes
					}
					I = i_2
				}
			}
			subject_control_society_button_click = {
				meta_effect = {
					text = {
						change_subject_society_[I] = yes
					}
					I = i_3
				}
				log = "[?i_3]"
			}
			subject_control_power_concentration_button_click = {
				meta_effect = {
					text = {
						change_subject_power_concentration_[I] = yes
					}
					I = i_4
				}
				log = "[?i_4]"
			}
			subject_control_urbanization_button_click = {
				meta_effect = {
					text = {
						change_subject_urbanization_[I] = yes
					}
					I = i_5
				}
				log = "[?i_5]"
			}
			subject_control_illiteracy_button_click = {
				meta_effect = {
					text = {
						change_subject_illiteracy_[I] = yes
					}
					I = i_6
				}
				log = "[?i_6]"
			}
			subject_control_poverty_button_click = {
				meta_effect = {
					text = {
						change_subject_poverty_[I] = yes
					}
					I = i_7
				}
				log = "[?i_7]"
			}
			use_overlord_settings_button_click = {
				if = {
					limit = {
						check_variable = {
							FROM.use_overlord_settings = 1
						}
					}
					set_variable = {
						FROM.use_overlord_settings = 0
					}
				}
				else = {
					set_variable = {
						FROM.use_overlord_settings = 1
					}
				}
			}
			force_settings_button_click = {
				if = {
					limit = {
						check_variable = {
							FROM.forced_subject_settings = 1
						}
					}
					set_variable = {
						FROM.forced_subject_settings = 0
					}
				}
				else = {
					set_variable = {
						FROM.forced_subject_settings = 1
					}
				}
			}
		}
		triggers = {
			power_concentration_limit_warnings_visible = {
				overlord = {
					has_idea = anarchy
				}
			}
			subject_control_mobilization_law_button_click_enabled = {
				set_temp_variable = {
					frame_0 = i_0
				}
				multiply_temp_variable = {
					frame_0 = 4
				}
				if = {
					limit = {
						check_variable = {
							i_0 = 0
						}
					}
					if = {
						limit = {
							has_idea = disarmed_nation
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_0_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_0 = 1
						}
					}
					if = {
						limit = {
							has_idea = volunteer_only
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_1_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_0 = 2
						}
					}
					if = {
						limit = {
							has_idea = limited_conscription
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_2_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_0 = 3
						}
					}
					if = {
						limit = {
							has_idea = extensive_conscription
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_3_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_0 = 4
						}
					}
					if = {
						limit = {
							has_idea = service_by_requirement
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_4_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_0 = 5
						}
					}
					if = {
						limit = {
							has_idea = all_adults_serve
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_5_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							has_idea = scraping_the_barrel
						}
						add_to_temp_variable = {
							frame_0 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_0 = 2
						}
					}
					else_if = {
						limit = {
							subject_mobilization_law_6_available = no
						}
						add_to_temp_variable = {
							frame_0 = 3
						}
					}
				}
				add_to_temp_variable = {
					frame_0 = 1
				}
			}
			subject_control_trade_button_click_enabled = {
				#temp solution, change
				set_temp_variable = {
					frame_1 = 1
				}
				if = {
					limit = {
						check_variable = {
							i_1 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = free_trade
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_0_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 1
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = uncontrolled_exports
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_1_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 2
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = export_focus
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_2_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = limited_exports
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_3_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 4
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = closed_economy
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_4_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 5
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = limited_imports
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_5_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_1 = 6
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = import_focus
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_6_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = uncontrolled_imports
							}
						}
						add_to_temp_variable = {
							frame_1 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_1 = 2
						}
					}
					else_if = {
						limit = {
							subject_trade_7_available = no
						}
						add_to_temp_variable = {
							frame_1 = 3
						}
					}
				}
			}
			subject_control_economy_button_click_enabled = {
				set_temp_variable = {
					frame_2 = i_2
				}
				multiply_temp_variable = {
					frame_2 = 3
				}
				if = {
					limit = {
						check_variable = {
							frame_2 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = isolation
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_0_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = primitive_economy
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_1_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 6
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = outlaw_economy
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_2_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 9
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = civilian_economy
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_3_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 12
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = low_economic_mobilisation
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_4_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 15
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = partial_economic_mobilisation
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_5_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 18
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = war_economy
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_6_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 21
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tot_economic_mobilisation
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_7_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							frame_2 = 24
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tot_militarisation
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_8_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = collectivized_society
							}
						}
						add_to_temp_variable = {
							frame_2 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_2 = 2
						}
					}
					else_if = {
						limit = {
							FROM = {
								subject_economy_9_available = no
							}
						}
						add_to_temp_variable = {
							frame_2 = 3
						}
					}
				}
				add_to_temp_variable = {
					frame_2 = 1
				}
			}
			subject_control_society_button_click_enabled = {
				#temp solution, change
				set_temp_variable = {
					frame_3 = 1
				}
				if = {
					limit = {
						check_variable = {
							i_3 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = clockwerk_industry
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_0_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 1
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = modern_society
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_1_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 2
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = outdated_industry1
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_2_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = outdated_industry
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_3_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 4
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = pre_industrial_society3
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_4_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 5
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = pre_industrial_society2
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_5_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 6
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = pre_industrial_society1
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_6_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 7
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = pre_industrial_society
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_7_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 8
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = agrarian_society5
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_8_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 9
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = agrarian_society4
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_9_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 10
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = agrarian_society3
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_10_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 11
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = agrarian_society2
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_11_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 12
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = agrarian_society
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_12_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 13
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tribal_society3
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_13_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 14
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tribal_society2
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_14_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 15
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tribal_society1
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_15_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 16
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = tribal_society
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_16_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_3 = 17
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = communal_society
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_17_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = religious_country
							}
						}
						add_to_temp_variable = {
							frame_3 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_3 = 2
						}
					}
					else_if = {
						limit = {
							subject_society_18_available = no
						}
						add_to_temp_variable = {
							frame_3 = 3
						}
					}
				}			
			}
			subject_control_power_concentration_button_click_enabled = {
				#temp solution, change
				set_temp_variable = {
					frame_4 = 1
				}
				if = {
					limit = {
						check_variable = {
							i_4 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = anarchy
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_0_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_4 = 1
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = low_power_concentration
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_1_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_4 = 2
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = medium_power_concentration
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_2_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_4 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = high_power_concentration
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_3_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_4 = 4
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = authoritarism
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_4_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_4 = 5
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = commune
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_5_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = harmonic_power_concentration
							}
						}
						add_to_temp_variable = {
							frame_4 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_4 = 2
						}
					}
					else_if = {
						limit = {
							subject_power_concentration_6_available = no
						}
						add_to_temp_variable = {
							frame_4 = 3
						}
					}
				}
			}
			subject_control_urbanization_button_click_enabled = {
				#temp solution, change
				set_temp_variable = {
					frame_5 = 1
				}
				if = {
					limit = {
						check_variable = {
							i_5 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = no_urbanization_control
							}
						}
						add_to_temp_variable = {
							frame_5 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_5 = 2
						}
					}
					else_if = {
						limit = {
							subject_urbanization_0_available = no
						}
						add_to_temp_variable = {
							frame_5 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_5 = 1
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = low_urbanization_focus
							}
						}
						add_to_temp_variable = {
							frame_5 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_5 = 2
						}
					}
					else_if = {
						limit = {
							subject_urbanization_1_available = no
						}
						add_to_temp_variable = {
							frame_5 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_5 = 2
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = medium_urbanization_focus
							}
						}
						add_to_temp_variable = {
							frame_5 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_5 = 2
						}
					}
					else_if = {
						limit = {
							subject_urbanization_2_available = no
						}
						add_to_temp_variable = {
							frame_5 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_5 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = high_urbanization_focus
							}
						}
						add_to_temp_variable = {
							frame_5 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_5 = 2
						}
					}
					else_if = {
						limit = {
							subject_urbanization_3_available = no
						}
						add_to_temp_variable = {
							frame_5 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = very_high_urbanization_focus
							}
						}
						add_to_temp_variable = {
							frame_5 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_5 = 2
						}
					}
					else_if = {
						limit = {
							subject_urbanization_4_available = no
						}
						add_to_temp_variable = {
							frame_5 = 3
						}
					}
				}
			}
			subject_control_illiteracy_button_click_enabled = {
				set_temp_variable = {
					frame_6 = 1
				}
				if = {
					limit = {
						check_variable = {
							i_6 = 0
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = no_lack_of_scientists
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_0_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_6 = 1
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = lack_of_scientists3
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_1_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_6 = 2
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = lack_of_scientists2
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_2_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_6 = 3
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = lack_of_scientists1
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_3_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							i_6 = 4
						}
					}
					if = {
						limit = {
							FROM = {
								has_idea = lack_of_scientists
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_4_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								has_idea = education_socialist
							}
						}
						add_to_temp_variable = {
							frame_6 = 1
						}
					}
					else_if = {
						limit = {
							always = no
						}
						#change trigger (if ideas are possible for subject and overlord)
						add_to_temp_variable = {
							frame_6 = 2
						}
					}
					else_if = {
						limit = {
							subject_illiteracy_5_available = no
						}
						add_to_temp_variable = {
							frame_6 = 3
						}
					}
				}
			}
			subject_control_poverty_button_click_enabled = {
				set_temp_variable = {
					frame_7 = i_7
				}
				multiply_temp_variable = {
					frame_7 = 2
				}
				#change due grey icon append and red
				if = {
					limit = {
						FROM = {
							has_idea = no_poverty
						}
						check_variable = {
							frame_7 = 0
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty5
						}
						check_variable = {
							frame_7 = 2
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty4
						}
						check_variable = {
							frame_7 = 4
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty3
						}
						check_variable = {
							frame_7 = 6
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty2
						}
						check_variable = {
							frame_7 = 8
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty1
						}
						check_variable = {
							frame_7 = 10
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				else_if = {
					limit = {
						FROM = {
							has_idea = poverty
						}
						check_variable = {
							frame_7 = 12
						}
					}
					add_to_temp_variable = {
						frame_7 = 1
					}
				}
				add_to_temp_variable = {
					frame_7 = 1
				}
			}
			use_overlord_settings_button_click_enabled = {
				set_temp_variable = {
					overlord_frame = FROM.use_overlord_settings
				}
				add_to_temp_variable = {
					overlord_frame = 1
				}
			}
			force_settings_button_click_enabled = {
				set_temp_variable = {
					forced_frame = FROM.forced_subject_settings
				}
				add_to_temp_variable = {
					forced_frame = 1
				}
			}
		}
		properties = {
			subject_control_mobilization_law_button = {
				frame = frame_0
			}
			subject_control_trade_button = {
				frame = frame_1
			}
			subject_control_economy_button = {
				frame = frame_2
			}
			subject_control_society_button = {
				frame = frame_3
			}
			subject_control_power_concentration_button = {
				frame = frame_4
			}
			subject_control_urbanization_button = {
				frame = frame_5
			}
			subject_control_illiteracy_button = {
				frame = frame_6
			}
			subject_control_poverty_button = {
				frame = frame_7
			}
			use_overlord_settings_button = {
				frame = overlord_frame
			}
			force_settings_button = {
				frame = forced_frame
			}
		}
	}
	subject_control_main_button = {
		context_type = selected_country_context
		window_name = "subject_control_menu_main_button"
		parent_window_token = selected_country_view_diplomacy
		visible = {
			is_subject_of = ROOT
		}
		effects = {
			main_button_click = {
				if = {
					limit = {
						NOT = {
							has_variable = ROOT.subject_control_visibility
						}
					}
					set_variable = {
						ROOT.subject_control_visibility = 1
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ROOT.subject_control_visibility = 0
						}
					}
					set_variable = {
						ROOT.subject_control_visibility = 1
					}
				}
				else = {
					set_variable = {
						ROOT.subject_control_visibility = 0
					}
				}
			}
		}
	}
}